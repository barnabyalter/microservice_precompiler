{"google":"","note":"Don't delete this file! It's used internally to help with page regeneration.","body":"# MicroservicePrecompiler\r\n\r\n[![Build Status](https://api.travis-ci.org/barnabyalter/microservice_precompiler.png)](https://travis-ci.org/barnabyalter/microservices_precompiler)\r\n[![Dependency Status](https://gemnasium.com/barnabyalter/microservice_precompiler.png)](https://gemnasium.com/barnabyalter/microservice_precompiler)\r\n[![Code Climate](https://codeclimate.com/badge.png)](https://codeclimate.com/github/barnabyalter/microservice_precompiler)\r\n\r\nThe microservice precompiler uses a handful of technologies to compile Javascripts and Stylesheets and create HTML pages from templates into a distribution folder ready for deployment. The microservices used are CoffeeScript, SASS and Mustache, compiling and minifying (where possible) into Javascript, CSS and HTML, respectively.\r\n\r\nThe SASS is compiled into CSS via Compass; the CoffeeScript is translated to Javascript via Sprockets; both CSS and JS have their dependency trees included in-file by Sprockets; CSS and JS are then minified and compressed via YUICompressor and Uglifier, respectively. \r\n\r\nThe gem requires that your project root be a Compass project and expects that you have a folder structure matching the following in the root of your project:\r\n\r\n    /javascripts/ \r\n    /sass/\r\n    /templates/\r\n    mustaches.yml\r\n\r\nWhere javascripts contains your Coffee, sass contains your SASS, templates contains a folder structure matching your mustaches.yml file for building out pages from mustache templates. \r\n\r\n## Installation\r\n\r\nAdd this line to your application's Gemfile:\r\n\r\n    gem 'microservice_precompiler'\r\n\r\nAnd then execute:\r\n\r\n    $ bundle\r\n\r\nOr install it yourself as:\r\n\r\n    $ gem install microservice_precompiler\r\n\r\n## Usage\r\n\r\nTo build all assets and templates into the distribution (./dist by default) folder, you can run the following from your application or rake:\r\n\r\n    require 'microservice_precompiler'\r\n    precompiler = MicroservicePrecompiler::Builder.new\r\n    precompiler.compile\r\n  \r\nOr with initialize options:\r\n  \r\n    require 'microservice_precompiler'\r\n    precompiler = MicroservicePrecompiler::Builder.new\r\n    precompiler.project_root = \".\"\r\n    precompiler.build_path = \"dist\"\r\n    precompiler.mustaches_config = \"mustaches.yml\"\r\n    precompiler.compile\r\n  \r\nThis runs all the precompiling options. Each can also be invoked individually:\r\n\r\n    # Clears the dist folder and sass cache files\r\n    precompiler.cleanup\r\n    # Runs the Compass build, which sends SASS to cachs\r\n    precompiler.compass_build\r\n    # Runs the Sprockets build which compiles CoffeeScript, minifies assets and moves to dist folder\r\n    precompiler.sprockets_build\r\n    # Runs the Mustache template build, which creates output files with the same syntax from the mustaches config yaml\r\n     precompiler.mustache_build\r\n  \r\n### SASS and CoffeeScript\r\n\r\nThese two parts are pretty simple. They are contained within their relevant directories and are written in their respective technologies. Because Sprockets is used to compile them the folders may contain subfolders which are automatically included in-line if the following line is present in a top-level file (where dependencies is the name of the subfolder you wish to include):\r\n\r\n    /*\r\n     *=require_tree ./dependencies\r\n     */\r\n\r\n### Mustache templating\r\n\r\nThe mustache builder requires you to provide a template file and a logic file from which to build the template. You can create a complex folder structure in the templates directory as long as it's logic is matched in the mustaches.yml config file. An example of the mustaches.yml follows:\r\n\r\n    templates:\r\n      - Sample:\r\n        - Sample\r\n        - Sample1\r\n        - SampleFolder:\r\n          - Sample2:\r\n            - Sample2\r\n        - SampleFolder:\r\n          - Sample2\r\n        - sample_with_underscore\r\n\r\n* The case of the files is preserved from the mustaches config yaml. However, files like the above 'sample_with_underscore' are assumed to contain a class SampleWithUnderscore since this is the standard ruby practice.\r\n* The top level is the directory you are building from. Multiple directories will work as well.\r\n* The top level directory contains an array of template names, each of which is a hash of logic files to use the template.\r\n** For example, Sample and Sample1 are two logic files which implement a mustache template called Sample.\r\n* If one of the logic files is itself a hash it is assumed to be a directory. The mustache builder will treat this the same as the top level directory, reading the array of template file hashes with their array of logic files.\r\n** In the above example, SampleFolder is a folder which contains a mustache template called Sample2 and a logic file Sample2 which implements the template Sample2. The following SampleFolder with only Sample2 beneath is does the same thing.\r\n\r\n## Contributing\r\n\r\n1. Fork it\r\n2. Create your feature branch (`git checkout -b my-new-feature`)\r\n3. Commit your changes (`git commit -am 'Added some feature'`)\r\n4. Push to the branch (`git push origin my-new-feature`)\r\n5. Create new Pull Request","name":"Microservice precompiler","tagline":"Compiles Javascripts and Stylesheets and creates HTML pages from templates into a distribution folder ready for deployment."}